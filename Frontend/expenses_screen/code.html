<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trip Budget - GlobeTrotter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#A06CD5',
                        'primary-dark': '#6247aa',
                        secondary: '#FF6B6B',
                        dark: '#0f0f11',
                        'dark-lighter': '#18181b'
                    },
                    fontFamily: {
                        sans: ['Urbanist', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Urbanist', sans-serif;
            background-color: #0f0f11;
            color: white;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>

<body class="h-screen flex overflow-hidden">
    <!-- Sidebar -->
    <aside
        class="w-20 lg:w-64 border-r border-white/5 flex flex-col items-center lg:items-stretch py-8 bg-[#0f0f11] z-50">
        <div class="mb-12 flex justify-center lg:justify-start lg:px-6">
            <div class="flex items-center gap-3">
                <div
                    class="size-10 rounded-xl bg-gradient-to-tr from-primary to-secondary flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-primary/20">
                    G</div>
                <span class="text-xl font-bold hidden lg:block tracking-tight">GlobeTrotter</span>
            </div>
        </div>

        <nav class="flex-1 w-full space-y-2 px-2">
            <a href="../my_trips_screen/code.html"
                class="flex items-center gap-4 px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-xl transition-all group">
                <span class="material-symbols-outlined group-hover:scale-110 transition-transform">trip_origin</span>
                <span class="font-medium hidden lg:block">My Trips</span>
            </a>
            <a href="#"
                class="flex items-center gap-4 px-4 py-3 text-white bg-primary/10 rounded-xl transition-all group">
                <span
                    class="material-symbols-outlined text-primary group-hover:scale-110 transition-transform">account_balance_wallet</span>
                <span class="font-medium hidden lg:block text-primary">Budget</span>
            </a>
            <a href="#" onclick="history.back()"
                class="flex items-center gap-4 px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-xl transition-all group mt-auto">
                <span class="material-symbols-outlined">arrow_back</span>
                <span class="font-medium hidden lg:block">Back to Itinerary</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto relative">
        <!-- Header Image -->
        <div class="h-48 w-full bg-cover bg-center absolute top-0 left-0 z-0 opacity-40 mask-image-gradient"
            style="background-image: url('https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?q=80&w=2000&auto=format&fit=crop'); mask-image: linear-gradient(to bottom, black 0%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 100%);">
        </div>

        <div class="container mx-auto px-6 py-8 relative z-10 max-w-6xl">
            <div class="flex justify-between items-end mb-8">
                <div>
                    <h1 class="text-4xl font-bold mb-2">Trip Budget</h1>
                    <p class="text-gray-400">Manage expenses and track spending</p>
                </div>
                <div class="glass-panel px-6 py-3 rounded-xl flex items-center gap-4">
                    <div class="text-right">
                        <p class="text-sm text-gray-400 uppercase tracking-widest">Total Estimated Cost</p>
                        <p class="text-3xl font-bold text-white" id="totalCostDisplay">$0.00</p>
                    </div>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <!-- Breakdown Chart -->
                <div class="lg:col-span-2 glass-panel p-6 rounded-2xl">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                        <span class="material-symbols-outlined text-primary">pie_chart</span>
                        Cost Breakdown
                    </h3>
                    <div class="h-64 flex items-center justify-center relative">
                        <canvas id="budgetChart"></canvas>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="space-y-6">
                    <div class="glass-panel p-6 rounded-2xl">
                        <h3 class="text-sm text-gray-400 uppercase tracking-widest mb-2">Budget Limit</h3>
                        <div class="flex items-center justify-between">
                            <div class="text-2xl font-bold text-white">$<span id="budgetLimitVal">0</span></div>
                            <button class="text-sm text-primary hover:underline">Edit</button>
                        </div>
                        <div class="w-full bg-gray-800 h-1.5 rounded-full mt-4 overflow-hidden">
                            <div class="bg-primary h-full rounded-full" id="budgetProgressBar" style="width: 0%"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-2 text-right" id="budgetStatusText">0% used</p>
                    </div>

                    <div class="glass-panel p-6 rounded-2xl">
                        <h3 class="text-sm text-gray-400 uppercase tracking-widest mb-2">Daily Average</h3>
                        <div class="text-2xl font-bold text-white">$<span id="dailyAvgVal">0</span></div>
                        <p class="text-xs text-gray-500 mt-1">Per day estimated spend</p>
                    </div>
                </div>
            </div>

            <!-- Detailed Category List -->
            <div class="glass-panel rounded-2xl overflow-hidden">
                <div class="p-6 border-b border-white/5">
                    <h3 class="text-lg font-bold">Category Details</h3>
                </div>
                <div class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <!-- Accommodation -->
                    <div class="bg-white/5 p-4 rounded-xl border border-white/5">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="p-2 bg-blue-500/20 text-blue-400 rounded-lg"><span
                                    class="material-symbols-outlined">hotel</span></div>
                            <h4 class="font-bold">Stay</h4>
                        </div>
                        <p class="text-2xl font-bold mb-1">$<span id="catStayCost">0</span></p>
                    </div>
                    <!-- Transport -->
                    <div class="bg-white/5 p-4 rounded-xl border border-white/5">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="p-2 bg-green-500/20 text-green-400 rounded-lg"><span
                                    class="material-symbols-outlined">flight</span></div>
                            <h4 class="font-bold">Transport</h4>
                        </div>
                        <p class="text-2xl font-bold mb-1">$<span id="catTransCost">0</span></p>
                    </div>
                    <!-- Activities -->
                    <div class="bg-white/5 p-4 rounded-xl border border-white/5">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="p-2 bg-purple-500/20 text-purple-400 rounded-lg"><span
                                    class="material-symbols-outlined">confirmation_number</span></div>
                            <h4 class="font-bold">Activities</h4>
                        </div>
                        <p class="text-2xl font-bold mb-1">$<span id="catActCost">0</span></p>
                    </div>
                    <!-- Meals -->
                    <div class="bg-white/5 p-4 rounded-xl border border-white/5">
                        <div class="flex items-center gap-3 mb-3">
                            <div class="p-2 bg-orange-500/20 text-orange-400 rounded-lg"><span
                                    class="material-symbols-outlined">restaurant</span></div>
                            <h4 class="font-bold">Meals</h4>
                        </div>
                        <p class="text-2xl font-bold mb-1 mr-2 inline-block">$<span id="catMealsCost">0</span></p>
                        <span class="text-xs text-gray-500">(Not tracked)</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="budget.js"></script>
</body>

</html>